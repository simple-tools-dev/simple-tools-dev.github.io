<!doctype html>
<html lang="sv">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Simple Tools Dev</title>
  <meta name="description" content="SmÃ¥ webbaserade verktyg (hobbyprojekt). Valutakurser, data och utilities." />

  <style>
    :root{
      --bg: #0b0f14;
      --bg2: #0e1520;
      --card: rgba(255,255,255,0.06);
      --card2: rgba(255,255,255,0.08);
      --text: rgba(255,255,255,0.92);
      --muted: rgba(255,255,255,0.70);
      --border: rgba(255,255,255,0.10);
      --shadow: 0 10px 30px rgba(0,0,0,0.35);
      --accent: #6ee7ff;
      --accent2: #a78bfa;
      --good: #34d399;
      --warn: #fbbf24;
      --btn: rgba(255,255,255,0.10);
      --btnHover: rgba(255,255,255,0.14);
      --focus: rgba(110,231,255,0.25);
    }

    :root[data-theme="light"]{
      --bg: #f7f7fb;
      --bg2: #ffffff;
      --card: rgba(0,0,0,0.04);
      --card2: rgba(0,0,0,0.06);
      --text: rgba(0,0,0,0.88);
      --muted: rgba(0,0,0,0.60);
      --border: rgba(0,0,0,0.10);
      --shadow: 0 10px 30px rgba(0,0,0,0.12);
      --accent: #0ea5e9;
      --accent2: #7c3aed;
      --btn: rgba(0,0,0,0.06);
      --btnHover: rgba(0,0,0,0.09);
      --focus: rgba(14,165,233,0.18);
    }

    *{ box-sizing: border-box; }
    body{
      margin: 0;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      color: var(--text);
      background:
        radial-gradient(1200px 700px at 20% -10%, rgba(110,231,255,0.20), transparent 55%),
        radial-gradient(900px 600px at 90% 0%, rgba(167,139,250,0.18), transparent 50%),
        linear-gradient(180deg, var(--bg), var(--bg2));
      min-height: 100vh;
    }

    a{ color: inherit; text-decoration: none; }
    .wrap{ max-width: 1080px; margin: 0 auto; padding: 28px 18px 50px; }

    /* top bar */
    .topbar{
      display:flex; align-items:center; justify-content:space-between;
      gap: 12px;
      margin-bottom: 18px;
    }
    .brand{
      display:flex; align-items:center; gap: 10px;
      font-weight: 700;
      letter-spacing: 0.2px;
    }
    .logo{
      width: 34px; height: 34px;
      border-radius: 12px;
      background:
        radial-gradient(16px 16px at 30% 30%, rgba(110,231,255,0.9), transparent 60%),
        radial-gradient(18px 18px at 70% 30%, rgba(167,139,250,0.8), transparent 65%),
        radial-gradient(20px 20px at 50% 80%, rgba(52,211,153,0.65), transparent 65%),
        rgba(255,255,255,0.05);
      border: 1px solid var(--border);
      box-shadow: var(--shadow);
    }
    .top-actions{ display:flex; gap: 10px; align-items:center; }

    .chip{
      display:inline-flex; align-items:center; gap: 8px;
      padding: 8px 10px;
      border-radius: 999px;
      border: 1px solid var(--border);
      background: rgba(255,255,255,0.04);
      font-size: 13px;
      color: var(--muted);
    }
    .btn{
      display:inline-flex; align-items:center; gap: 8px;
      padding: 10px 12px;
      border-radius: 12px;
      border: 1px solid var(--border);
      background: var(--btn);
      color: var(--text);
      cursor: pointer;
      user-select: none;
      transition: transform .08s ease, background .15s ease, border-color .15s ease;
      font-size: 14px;
    }
    .btn:hover{ background: var(--btnHover); }
    .btn:active{ transform: translateY(1px); }
    .btn:focus{ outline: none; box-shadow: 0 0 0 4px var(--focus); }

    /* hero */
    .hero{
      border: 1px solid var(--border);
      background: linear-gradient(180deg, rgba(255,255,255,0.06), rgba(255,255,255,0.03));
      border-radius: 18px;
      padding: 20px;
      box-shadow: var(--shadow);
      overflow:hidden;
      position: relative;
      margin-bottom: 18px;
    }
    .hero::before{
      content:"";
      position:absolute; inset:-2px;
      background:
        radial-gradient(500px 240px at 20% 0%, rgba(110,231,255,0.22), transparent 65%),
        radial-gradient(500px 240px at 80% 20%, rgba(167,139,250,0.20), transparent 65%);
      filter: blur(0px);
      pointer-events:none;
    }
    .hero-inner{ position: relative; display:grid; gap: 10px; }
    .title{
      font-size: clamp(24px, 3.5vw, 36px);
      line-height: 1.1;
      margin: 0;
      letter-spacing: -0.5px;
    }
    .subtitle{
      margin: 0;
      color: var(--muted);
      max-width: 68ch;
      font-size: 15px;
    }
    .hero-actions{ display:flex; gap: 10px; flex-wrap: wrap; margin-top: 6px; }

    .primary{
      background: linear-gradient(90deg, rgba(110,231,255,0.22), rgba(167,139,250,0.18));
      border-color: rgba(255,255,255,0.16);
    }

    /* controls */
    .controls{
      display:grid;
      grid-template-columns: 1fr;
      gap: 10px;
      margin: 16px 0 10px;
    }
    @media(min-width: 840px){
      .controls{ grid-template-columns: 1.3fr 0.7fr; }
    }

    .search{
      display:flex; align-items:center; gap: 10px;
      padding: 12px 14px;
      border-radius: 14px;
      border: 1px solid var(--border);
      background: rgba(255,255,255,0.04);
    }
    .search input{
      width: 100%;
      border: none;
      outline: none;
      background: transparent;
      color: var(--text);
      font-size: 15px;
    }
    .search input::placeholder{ color: rgba(255,255,255,0.45); }
    :root[data-theme="light"] .search input::placeholder{ color: rgba(0,0,0,0.40); }

    .filters{
      display:flex; gap: 8px; flex-wrap: wrap; align-items:center;
      padding: 10px 12px;
      border-radius: 14px;
      border: 1px solid var(--border);
      background: rgba(255,255,255,0.04);
    }
    .tag{
      padding: 7px 10px;
      border-radius: 999px;
      border: 1px solid var(--border);
      background: rgba(255,255,255,0.03);
      cursor: pointer;
      font-size: 13px;
      color: var(--muted);
      transition: background .15s ease, transform .08s ease;
    }
    .tag:hover{ background: rgba(255,255,255,0.06); }
    .tag:active{ transform: translateY(1px); }
    .tag.active{
      color: var(--text);
      border-color: rgba(110,231,255,0.35);
      background: rgba(110,231,255,0.12);
    }

    /* grid */
    .grid{
      display:grid;
      grid-template-columns: 1fr;
      gap: 14px;
      margin-top: 10px;
    }
    @media(min-width: 760px){
      .grid{ grid-template-columns: 1fr 1fr; }
    }

    .card{
      border: 1px solid var(--border);
      background: linear-gradient(180deg, var(--card), var(--card2));
      border-radius: 16px;
      padding: 16px;
      box-shadow: var(--shadow);
      transition: transform .10s ease, border-color .15s ease;
      position: relative;
      overflow: hidden;
      opacity: 0;
      transform: translateY(6px);
      animation: pop .35s ease forwards;
    }
    @keyframes pop{
      to { opacity: 1; transform: translateY(0); }
    }
    .card:hover{ transform: translateY(-2px); border-color: rgba(110,231,255,0.25); }

    .card-top{
      display:flex; justify-content:space-between; gap: 10px; align-items:flex-start;
      margin-bottom: 8px;
    }
    .card h2{ margin: 0; font-size: 18px; letter-spacing: -0.2px; }
    .desc{ margin: 0; color: var(--muted); font-size: 14px; line-height: 1.5; }

    .badges{ display:flex; gap: 8px; flex-wrap: wrap; margin-top: 12px; }
    .badge{
      font-size: 12px;
      padding: 4px 8px;
      border-radius: 999px;
      border: 1px solid var(--border);
      color: var(--muted);
      background: rgba(255,255,255,0.03);
    }
    .badge.good{ border-color: rgba(52,211,153,0.35); background: rgba(52,211,153,0.10); color: var(--text); }
    .badge.warn{ border-color: rgba(251,191,36,0.35); background: rgba(251,191,36,0.10); color: var(--text); }

    .card-actions{
      display:flex; gap: 10px; flex-wrap: wrap; align-items:center;
      margin-top: 14px;
    }
    .mini{
      padding: 9px 11px;
      border-radius: 12px;
      font-size: 14px;
    }

    .footer{
      margin-top: 22px;
      color: var(--muted);
      font-size: 13px;
      display:flex;
      gap: 10px;
      flex-wrap: wrap;
      align-items: center;
      justify-content: space-between;
      opacity: 0.92;
    }
    .mono{ font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace; }

    /* small icon */
    .dot{
      width: 9px; height: 9px; border-radius: 999px;
      background: var(--good);
      box-shadow: 0 0 0 4px rgba(52,211,153,0.15);
      flex: 0 0 auto;
    }
  </style>
</head>

<body>
  <div class="wrap">

    <div class="topbar">
      <div class="brand" title="Simple Tools Dev">
        <div class="logo" aria-hidden="true"></div>
        <div>Simple Tools Dev</div>
        <span class="chip"><span class="dot"></span> live</span>
      </div>

      <div class="top-actions">
        <button class="btn" id="langBtn" type="button" aria-label="Switch language">
          <span id="langIcon">ðŸ‡¬ðŸ‡§</span>
          <span id="langText">English</span>
        </button>

        <button class="btn" id="themeBtn" type="button" aria-label="Toggle theme">
          <span id="themeIcon">ðŸŒ™</span>
          <span id="themeText">Dark</span>
        </button>
      </div>
    </div>

    <section class="hero">
      <div class="hero-inner">
        <h1 class="title" id="heroTitle">Small tools. Fast results. No accounts.</h1>
        <p class="subtitle" id="heroSubtitle">
          A collection of web-based utilities built as hobby projects. Focus: simplicity, clarity, and quick access to useful data.
        </p>
        <div class="hero-actions">
          <a class="btn primary" id="heroPrimaryBtn" href="https://simple-tools-dev.github.io/riksbanken-valutakurser/">Open currency tool</a>
          <button class="btn" type="button" id="copyLinkBtn">Copy page link</button>
        </div>
      </div>
    </section>

    <div class="controls">
      <div class="search">
        <span aria-hidden="true">ðŸ”Ž</span>
        <input id="q" type="text" placeholder="Search tools (e.g. currency, riksbank, pdf)..." autocomplete="off" />
      </div>

      <div class="filters" id="filters">
        <button class="tag active" data-tag="all" type="button">All</button>
        <button class="tag" data-tag="economy" type="button">Economy</button>
        <button class="tag" data-tag="api" type="button">API</button>
        <button class="tag" data-tag="export" type="button">Export</button>
        <button class="tag" data-tag="pdf" type="button">PDF</button>
      </div>
    </div>

    <div class="grid" id="grid"></div>

    <div class="footer">
      <div>
        <span class="mono">simple-tools-dev</span> â€¢ built with GitHub Pages
      </div>
    </div>

  </div>

<script>
(() => {
  // === Configure your GitHub release download links here ===
  // Replace if your repo name differs in casing.
  // Using a fixed tag makes it stable for a specific release. You can update later per release.
  // If you prefer "latest", you can link to the releases page instead.
  const PDFMERGER_VERSION_TAG = "v1.0.0";
  const PDFMERGER_REPO = "https://github.com/simple-tools-dev/pdfmerger";
  const PDFMERGER_RELEASE_BASE = `${PDFMERGER_REPO}/releases/download/${PDFMERGER_VERSION_TAG}`;
  const PDFMERGER_ZIP = `${PDFMERGER_RELEASE_BASE}/PDFMerger-Setup-1.00.zip`;
  const PDFMERGER_EXE = `${PDFMERGER_RELEASE_BASE}/PDFMerger-Setup-1.00.exe`;
  const PDFMERGER_LATEST = `${PDFMERGER_REPO}/releases/latest`;

  // Language strings
  const I18N = {
    en: {
      langLabel: "English",
      langIcon: "ðŸ‡¬ðŸ‡§",
      themeDark: "Dark",
      themeLight: "Light",
      heroTitle: "Small tools. Fast results. No accounts.",
      heroSubtitle: "A collection of web-based utilities built as hobby projects. Focus: simplicity, clarity, and quick access to useful data.",
      heroPrimary: "Open currency tool",
      copyPage: "Copy page link",
      searchPlaceholder: "Search tools (e.g. currency, riksbank, pdf)...",
      tags: { all: "All", economy: "Economy", api: "API", export: "Export", pdf: "PDF" },
      cardOpen: "Open",
      cardCopy: "Copy link",
      copied: "Copied âœ…",
      copyFail: "Could not copy",
      noHitsTitle: "No results",
      noHitsDesc: "Try a different search term or change the filter.",
      footer: "built with GitHub Pages",
      tools: {
        riksbank: {
          title: "Riksbank â€“ Exchange rates vs SEK",
          desc: "Pick a date and view exchange rates vs SEK (source: Sveriges Riksbank). Filters to the actual rate date and supports Excel export.",
          status: "Stable",
          updated: "Updated: recently"
        },
        pdfmerger: {
          title: "PDFMerger â€“ Merge & Compress PDFs",
          desc: "A simple desktop tool to merge multiple PDF files and compress them into a smaller output file.",
          status: "Stable",
          updated: "Updated: v1.0.0",
          downloadZip: "Download ZIP",
          downloadExe: "Download EXE",
          releasePage: "Release page"
        }
      }
    },
    sv: {
      langLabel: "Svenska",
      langIcon: "ðŸ‡¸ðŸ‡ª",
      themeDark: "MÃ¶rkt",
      themeLight: "Ljust",
      heroTitle: "SmÃ¥ verktyg. Snabb nytta. Inga konton.",
      heroSubtitle: "En samling webbaserade utilities byggda som hobbyprojekt. Fokus: enkelhet, tydlighet och att det ska gÃ¥ snabbt att fÃ¥ ut data.",
      heroPrimary: "Ã–ppna valutaverktyget",
      copyPage: "Kopiera lÃ¤nk till sidan",
      searchPlaceholder: "SÃ¶k verktyg (t.ex. valuta, riksbanken, pdf)...",
      tags: { all: "Alla", economy: "Ekonomi", api: "API", export: "Export", pdf: "PDF" },
      cardOpen: "Ã–ppna",
      cardCopy: "Kopiera lÃ¤nk",
      copied: "Kopierad âœ…",
      copyFail: "Kunde inte kopiera",
      noHitsTitle: "Inga trÃ¤ffar",
      noHitsDesc: "Prova ett annat sÃ¶kord eller byt filter.",
      footer: "byggt med GitHub Pages",
      tools: {
        riksbank: {
          title: "Riksbanken â€“ Valutakurser mot SEK",
          desc: "VÃ¤lj ett datum och se valutakurser mot SEK (kÃ¤lla: Sveriges Riksbank). Filtrerar till faktiskt valutadatum och kan exportera till Excel.",
          status: "Stabil",
          updated: "Senast: nyss"
        },
        pdfmerger: {
          title: "PDFMerger â€“ SlÃ¥ ihop & komprimera PDF",
          desc: "Ett enkelt desktop-verktyg som kan slÃ¥ ihop flera PDF-filer och komprimera dem till en mindre utdatafil.",
          status: "Stabil",
          updated: "Senast: v1.0.0",
          downloadZip: "Ladda ner ZIP",
          downloadExe: "Ladda ner EXE",
          releasePage: "Release-sida"
        }
      }
    }
  };

  // Tool catalog (language-aware labels are applied at render time)
  const tools = [
    {
      key: "riksbank",
      url: "https://simple-tools-dev.github.io/riksbanken-valutakurser/",
      tags: ["economy", "api", "export"],
      statusKind: "good",
      actions: (t) => ([
        { type: "open", url: t.url }
      ])
    },
    {
      key: "pdfmerger",
      url: PDFMERGER_LATEST,
      tags: ["pdf"],
      statusKind: "good",
      actions: () => ([
        { type: "link", url: PDFMERGER_ZIP, actionKey: "downloadZip", primary: true },
        { type: "link", url: PDFMERGER_EXE, actionKey: "downloadExe" },
        { type: "link", url: PDFMERGER_LATEST, actionKey: "releasePage" }
      ])
    }
  ];

  const grid = document.getElementById("grid");
  const q = document.getElementById("q");
  const filters = document.getElementById("filters");
  const copyLinkBtn = document.getElementById("copyLinkBtn");

  const heroTitle = document.getElementById("heroTitle");
  const heroSubtitle = document.getElementById("heroSubtitle");
  const heroPrimaryBtn = document.getElementById("heroPrimaryBtn");

  const langBtn = document.getElementById("langBtn");
  const langIcon = document.getElementById("langIcon");
  const langText = document.getElementById("langText");

  const themeBtn = document.getElementById("themeBtn");
  const themeIcon = document.getElementById("themeIcon");
  const themeText = document.getElementById("themeText");

  let activeTag = "all";
  let query = "";

  function escapeHtml(s){
    return String(s)
      .replaceAll("&","&amp;")
      .replaceAll("<","&lt;")
      .replaceAll(">","&gt;")
      .replaceAll('"',"&quot;")
      .replaceAll("'","&#039;");
  }

  // Language
  const root = document.documentElement;
  function getLang(){
    return localStorage.getItem("lang") || "en"; // default EN
  }
  function setLang(lang){
    localStorage.setItem("lang", lang);
    root.setAttribute("lang", lang === "sv" ? "sv" : "en");
  }

  // Theme
  function applyTheme(theme){
    root.setAttribute("data-theme", theme);
    localStorage.setItem("theme", theme);
    const lang = getLang();
    const t = I18N[lang];
    const isLight = theme === "light";
    themeIcon.textContent = isLight ? "â˜€ï¸" : "ðŸŒ™";
    themeText.textContent = isLight ? t.themeLight : t.themeDark;
  }

  function applyTranslations(){
    const lang = getLang();
    const t = I18N[lang];

    langIcon.textContent = t.langIcon;
    langText.textContent = t.langLabel;

    heroTitle.textContent = t.heroTitle;
    heroSubtitle.textContent = t.heroSubtitle;
    heroPrimaryBtn.textContent = t.heroPrimary;

    q.placeholder = t.searchPlaceholder;
    copyLinkBtn.textContent = t.copyPage;

    // Update filter labels
    filters.querySelectorAll(".tag").forEach(btn => {
      const key = btn.dataset.tag;
      btn.textContent = t.tags[key] || btn.textContent;
    });

    // Footer
    const footer = document.querySelector(".footer .mono").parentElement;
    footer.innerHTML = `<span class="mono">simple-tools-dev</span> â€¢ ${escapeHtml(t.footer)}`;

    // Update theme text (keep current theme)
    const currentTheme = root.getAttribute("data-theme") || "dark";
    applyTheme(currentTheme);

    render();
  }

  function toolText(key){
    const lang = getLang();
    return I18N[lang].tools[key];
  }

  function render(){
    const lang = getLang();
    const t = I18N[lang];
    const qLower = query.trim().toLowerCase();

    const filtered = tools.filter(tool => {
      const matchesTag = (activeTag === "all") || tool.tags.includes(activeTag);
      const text = toolText(tool.key);
      const hay = (text.title + " " + text.desc + " " + tool.tags.join(" ")).toLowerCase();
      const matchesQuery = !qLower || hay.includes(qLower);
      return matchesTag && matchesQuery;
    });

    grid.innerHTML = filtered.map((tool, idx) => {
      const text = toolText(tool.key);

      const badges = tool.tags.map(tag => `<span class="badge">${escapeHtml(t.tags[tag] || tag)}</span>`).join("");
      const statusClass = tool.statusKind === "good" ? "badge good" : "badge warn";
      const statusLabel = text.status || "Info";

      const actions = tool.actions(tool).map(a => {
        if (a.type === "open") {
          return `<a class="btn mini primary" href="${escapeHtml(a.url)}">${escapeHtml(t.cardOpen)}</a>`;
        }
        if (a.type === "link") {
          const label = text[a.actionKey] || a.actionKey;
          const cls = a.primary ? "btn mini primary" : "btn mini";
          return `<a class="${cls}" href="${escapeHtml(a.url)}">${escapeHtml(label)}</a>`;
        }
        return "";
      }).join("");

      return `
        <article class="card" style="animation-delay:${Math.min(idx*60, 240)}ms">
          <div class="card-top">
            <h2>${escapeHtml(text.title)}</h2>
            <span class="${statusClass}">${escapeHtml(statusLabel)}</span>
          </div>
          <p class="desc">${escapeHtml(text.desc)}</p>

          <div class="badges">
            ${badges}
            <span class="badge">${escapeHtml(text.updated || "")}</span>
          </div>

          <div class="card-actions">
            ${actions}
            <button class="btn mini" type="button" data-copy="${escapeHtml(tool.url)}">${escapeHtml(t.cardCopy)}</button>
          </div>
        </article>
      `;
    }).join("");

    if (filtered.length === 0) {
      grid.innerHTML = `
        <article class="card" style="opacity:1; transform:none; animation:none;">
          <h2>${escapeHtml(t.noHitsTitle)}</h2>
          <p class="desc">${escapeHtml(t.noHitsDesc)}</p>
        </article>
      `;
    }

    // Bind copy buttons (card-level)
    grid.querySelectorAll("button[data-copy]").forEach(btn => {
      btn.addEventListener("click", async () => {
        const link = btn.getAttribute("data-copy");
        try {
          await navigator.clipboard.writeText(link);
          btn.textContent = I18N[getLang()].copied;
          setTimeout(() => (btn.textContent = I18N[getLang()].cardCopy), 900);
        } catch {
          btn.textContent = I18N[getLang()].copyFail;
          setTimeout(() => (btn.textContent = I18N[getLang()].cardCopy), 900);
        }
      });
    });
  }

  // Search
  q.addEventListener("input", (e) => {
    query = e.target.value || "";
    render();
  });

  // Filters
  filters.addEventListener("click", (e) => {
    const btn = e.target.closest(".tag");
    if (!btn) return;
    activeTag = btn.dataset.tag;
    filters.querySelectorAll(".tag").forEach(t => t.classList.remove("active"));
    btn.classList.add("active");
    render();
  });

  // Copy homepage link
  copyLinkBtn.addEventListener("click", async () => {
    try {
      await navigator.clipboard.writeText(location.href);
      copyLinkBtn.textContent = I18N[getLang()].copied;
      setTimeout(() => (copyLinkBtn.textContent = I18N[getLang()].copyPage), 900);
    } catch {
      copyLinkBtn.textContent = I18N[getLang()].copyFail;
      setTimeout(() => (copyLinkBtn.textContent = I18N[getLang()].copyPage), 900);
    }
  });

  // Language toggle
  langBtn.addEventListener("click", () => {
    const current = getLang();
    const next = current === "en" ? "sv" : "en";
    setLang(next);
    applyTranslations();
  });

  // Theme toggle
  const savedTheme = localStorage.getItem("theme");
  const prefersLight = window.matchMedia && window.matchMedia("(prefers-color-scheme: light)").matches;
  applyTheme(savedTheme || (prefersLight ? "light" : "dark"));

  themeBtn.addEventListener("click", () => {
    const current = root.getAttribute("data-theme") || "dark";
    applyTheme(current === "dark" ? "light" : "dark");
  });

  // Init language (default EN)
  setLang(getLang());
  applyTranslations();
})();
</script>
</body>
</html>
